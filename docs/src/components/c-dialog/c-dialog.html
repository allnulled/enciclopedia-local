<div class="c-dialog">
    <dialog class="window_dialog">
        <div class="window_container">
            <div class="window_viewer">
                <transition name="fade">
                    <div class="window modal"
                        v-if="is_active">
                        <div class="title-bar">
                            <div class="title-bar-text">
                                <slot name="title"></slot>
                            </div>
                            <div class="title-bar-controls">
                                <button aria-label="Close"
                                    v-on:click="() => set(undefined).close()"></button>
                            </div>
                        </div>
                        <div class="window-body">
                            <div style="display: flex; flex-direction: column; height: 100%;">
                                <div style="flex: 100; overflow: scroll; padding: 4px 6px;">
                                    <slot name="body"></slot>
                                </div>
                                <div style="flex: 1;"
                                    v-if="$slots.bodyfooter">
                                    <div class="" style="position: relative;" v-if="error">
                                        <div class="" style="position: absolute; top: auto; bottom: 0; left: 0; right: 0;">
                                            <div v-if="error instanceof Error">
                                                <div>
                                                    <span>Error: </span>
                                                    <span>{{ error.name }}</span>
                                                </div>
                                                <div>
                                                    <span>Message: </span>
                                                    <span>{{ error.message }}</span>
                                                </div>
                                                <div>
                                                    <span>Trace: </span>
                                                    <span>{{ error.stack }}</span>
                                                </div>
                                            </div>
                                            <div v-else="">
                                                <div>{{ error }}</div>
                                            </div>
                                        </div>
                                    </div>
                                    <slot name="bodyfooter"></slot>
                                </div>
                            </div>
                        </div>
                        <div class="status-bar">
                            <div class="status-bar-field">
                                <template v-if="$slots.footer">
                                    <slot name="footer"></slot>
                                </template>
                                <template v-else>
                                    Powered by <a href="https://github.com/allnulled">allnulled</a>
                                </template>
                            </div>
                        </div>
                    </div>
                </transition>
            </div>
        </div>
    </dialog>
</div>